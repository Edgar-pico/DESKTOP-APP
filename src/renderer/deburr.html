<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'; img-src 'self' data:; style-src 'self'; object-src 'none'; base-uri 'self'">
  <title>Deburr</title>
  <link rel="stylesheet" href="./styles/deburr.css">
</head>
<body>
  <div class="page">
    <header class="page-header">
      <button id="btnLogout" class="btn btn-secondary">Cerrar sesión</button>
      <h1>Módulo Deburr</h1>
      <div id="me" class="user-info"></div>
    </header>

    <section class="toolbar">
      <div class="toolbar-left">
        <button id="btnOpenRegister" class="btn btn-primary">Registrar Job</button>
        <button id="btnDeburrRefresh" class="btn">Refrescar</button>
        <span id="deburrMsg" class="muted"></span>
      </div>
      <div></div>
    </section>

    <section class="bulk-bar">
      <div class="bulk-left">
        <button id="btnSetInProcess" class="btn">Poner en proceso</button>
        <button id="btnSendToQuality" class="btn">Enviar a Calidad</button>
      </div>
      <div class="bulk-right">
        <span id="selCount" class="muted">0 seleccionados</span>
      </div>
    </section>

    <section class="table-wrap">
      <table id="deburrTable">
        <thead>
          <tr>
            <th title="Identificador">Id</th>
            <th title="Job">Job</th>
            <th title="Part Number">PartNum</th>
            <th title="Descripción">Descripción</th>
            <th title="Orden Cantidad">Order Qty</th>
            <th title="Área">Área</th>
            <th title="Piezas buenas">Buenas (pzas)</th>
            <th title="Scrap (piezas rechazadas)">Scrap (pzas)</th>
            <th title="Enviado a Calidad">Enviado Calidad</th>
            <th title="Pendiente por enviar a Calidad">Pendiente por enviar</th>
            <th title="Estatus">Estatus</th>
            <th title="Fecha de registro">Fecha Reg.</th>
            <th title="Fecha de actualización">Fecha Act.</th>
          </tr>
        </thead>
        <tbody id="deburrTbody">
          <tr><td class="center" colspan="13">Cargando...</td></tr>
        </tbody>
      </table>
    </section>
  </div>

  <div id="qtyModal" class="modal-overlay" hidden>
    <div class="modal-panel" role="dialog" aria-labelledby="qtyTitle" aria-modal="true">
      <h3 id="qtyTitle">Enviar a Calidad</h3>
      <div class="modal-body">
        <div class="modal-row">
          <label for="qtyInput">Cantidad a enviar</label>
          <input id="qtyInput" type="number" min="1" step="1" inputmode="numeric" />
        </div>
        <div id="qtyHelp" class="muted"></div>
        <div id="qtyError" class="error" role="alert"></div>
      </div>
      <div class="modal-actions">
        <button id="qtyCancel" class="btn">Cancelar</button>
        <button id="qtyOk" class="btn btn-primary">Enviar</button>
      </div>
    </div>
  </div>

  <script src="./deburr.js"></script>
</body>

</html>